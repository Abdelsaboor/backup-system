generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// ✅ إضافة نوع جديد للحالة
enum BackupStatus {
  QUEUED
  PROCESSING
  COMPLETED
  FAILED
}

model BackupRecord {
  id          String       @id @default(cuid())
  dbName      String
  status      BackupStatus @default(QUEUED) // ✅ استخدام النوع الجديد
  createdAt   DateTime     @default(now())
  completedAt DateTime?
  fileName    String?
  downloadUrl String?
  error       String?

  // ✅ إضافة حقل جديد لتخزين إعدادات النسخ الاحتياطي
  configJson String
}
